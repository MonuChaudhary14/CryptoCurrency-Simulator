<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CryptoSim</title>
<link rel="stylesheet" href="\static\style.css">
</head>
<body>
    <!-- Header Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <!-- Left: Logo -->
            <div class="navbar-title">
                <h1>CryptoSim</h1>
            </div>
            <!-- Right: Auth links/user -->
            <div class="auth-links">
            {% if username %}
                <div class="user-dropdown">
                    <button class="dropbtn">{{ username }}</button>
                    <div class="dropdown-content">
                        <form action="{{ url_for('logout') }}" method="POST">
                            <button type="submit" class="logout-btn">Logout</button>
                        </form>
                    </div>
                </div>
            {% else %}
                <div class="login-dashboard"><a href="{{ url_for('login') }}">Login</a></div>
                <div class="signup-dashboard"><a href="{{ url_for('signup') }}">Signup</a></div>
            {% endif %}
            </div>
        </div>
        <!-- Tabs centered below header -->
        <ul class="nav-tabs">
            <li class="tab-link active" data-tab="dashboard">Dashboard</li>
            <li class="tab-link" data-tab="balances">Balances</li>
            <li class="tab-link" data-tab="explorer">Chain Explorer</li>
            <li class="tab-link" data-tab="history">Tx History</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="tab-content">
        <div class="tab-pane active" id="dashboard">
            <!-- Dashboard content, e.g., send coins, mine block -->
            {% if username %}
            <form action="{{ url_for('send') }}" method="POST">
                <h3>Send SIM</h3>
                <input type="hidden" name="sender" value="{{ username }}">
                <input type="text" name="recipient" placeholder="Recipient" required>
                <input type="number" name="amount" placeholder="Amount" min="0.01" step="0.01" required>
                <button type="submit">Send</button>
            </form>
            <form action="{{ url_for('mine') }}" method="POST" style="margin-top:20px;">
                <input type="hidden" name="miner" value="{{ username }}">
                <button type="submit">Mine Block</button>
            </form>
            {% else %}
            <div style="text-align:center; font-size:1.1em; padding:20px;">
                Please <a href="{{ url_for('login') }}">login</a> or <a href="{{ url_for('signup') }}">signup</a> to use the platform.
            </div>
            {% endif %}
        </div>
        <div class="tab-pane" id="balances">
            <h3>Balances</h3>
            <div id="balanceList"></div>
        </div>
        <div class="tab-pane" id="explorer">
            <h3>Blockchain Explorer</h3>
            <div id="blockchainView"></div>
        </div>
        <div class="tab-pane" id="history">
            <h3>Transaction History</h3>
            <div id="transactionList"></div>
        </div>
    </div>
    <footer>
        2025 CryptoSim. All rights reserved.
    </footer>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
